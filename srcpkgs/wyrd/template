# Template file for 'wyrd'
pkgname=wyrd
version=1.5.3
revision=1
build_style=gnu-configure
hostmakedepends="ocaml camlp5 ocaml-curses texlive texlive-LuaTeX python3 opam"
makedepends="ncurses-devel"
depends="remind"
conf_files="/etc/wyrdrc"
short_desc="Ncurses front-end to Remind"
maintainer="Barbaross <cullenrss@gmail.com>"
license="GPL-2.0-or-later"
homepage="https://gitlab.com/wyrd-calendar/wyrd"
distfiles="${homepage}/-/archive/${version}/wyrd-${version}.tar.gz"
checksum=1d7936dd10b795a17bbce06ae14079eb36120f26fd7bd27b522f8df5196790e7

pre_configure() {
	./prep-devtree.sh
}

pre_build() {
	opam init -y --compiler=ocaml-system --disable-sandboxing
	eval $(opam env)
	opam install -y hevea
}
